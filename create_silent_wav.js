// create_silent_wav.js
const fs = require('fs');

// En-tête WAV minimal (100 ms de silence, 44.1 kHz, mono, 16-bit)
const wavHeader = new Uint8Array([
  0x52, 0x49, 0x46, 0x46, // "RIFF"
  0x24, 0x00, 0x00, 0x00, // Taille du fichier - 8
  0x57, 0x41, 0x56, 0x45, // "WAVE"
  0x66, 0x6D, 0x74, 0x20, // "fmt "
  0x10, 0x00, 0x00, 0x00, // Taille du sous-chunk fmt
  0x01, 0x00,             // Format PCM
  0x01, 0x00,             // 1 canal (mono)
  0x44, 0xAC, 0x00, 0x00, // Fréquence 44100 Hz
  0x88, 0x58, 0x01, 0x00, // Débit octets/sec
  0x02, 0x00,             // Alignement bloc
  0x10, 0x00,             // Bits par échantillon
  0x64, 0x61, 0x74, 0x61, // "data"
  0x02, 0x00, 0x00, 0x00, // Taille données (2 octets = 1 échantillon 16-bit)
  0x00, 0x00              // Valeur 0 = silence
]);

fs.writeFileSync('silent.wav', Buffer.from(wavHeader));
console.log('✅ silent.wav créé avec succès !');